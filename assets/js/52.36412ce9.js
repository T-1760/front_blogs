(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{460:function(o,e,t){"use strict";t.r(e);var u=t(2),i=Object(u.a)({},(function(){var o=this,e=o._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h2",{attrs:{id:"webaudio"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webaudio"}},[o._v("#")]),o._v(" webAudio")]),o._v(" "),e("ul",[e("li",[o._v("参考链接\n"),e("a",{attrs:{href:"https://www.bilibili.com/video/BV1jA4y197cu?p=4&spm_id_from=pageDriver",target:"_blank",rel:"noopener noreferrer"}},[o._v("AudioContext音频波动"),e("OutboundLink")],1)])]),o._v(" "),e("h3",{attrs:{id:"audiocontext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#audiocontext"}},[o._v("#")]),o._v(" AudioContext")]),o._v(" "),e("ul",[e("li",[o._v("计算机的声音系统, 主要用于创建和管理音频对象。音频由"),e("strong",[o._v("一组AudioNode组成，这些音频节点组合并路由到AudioDestinationNode")])]),o._v(" "),e("li",[o._v("创建AudioContext")])]),o._v(" "),e("blockquote",[e("p",[e("code",[o._v("let audioCtx = new (window.AudioContext || window.webkitAudioContext)()")])])]),o._v(" "),e("ul",[e("li",[o._v("AudioContext常用属性\n"),e("ol",[e("li",[e("code",[o._v("audioCtx.destination")]),o._v("返回一个AudioDestinationNode, 即context中所有音频(节点)的最终目标节点。"),e("strong",[o._v("定义音频渲染设备(如：扬声器)")])]),o._v(" "),e("li",[e("code",[o._v("audioCtx.currentTime")]),o._v("返回音频"),e("strong",[o._v("从创建开始到当前的时间（秒）")])])])]),o._v(" "),e("li",[o._v("AudioContext常用方法\n"),e("ol",[e("li",[e("code",[o._v("audioCtx.BaseAudioContext()")]),o._v(": 继承父接口的方法")]),o._v(" "),e("li",[e("code",[o._v("audioCtx.decodeAudioData( arrayBuffer ).then((buffer)=>{})")]),o._v(": 异步编码包含在arrayBuffer中的音频数据")]),o._v(" "),e("li",[e("code",[o._v("audioCtx.createBufferSource()")]),o._v(": 创建 AudioBufferSourceNode对象， 可用于播放和操作AudioBuffer对象中包含的音频数据")]),o._v(" "),e("li",[e("code",[o._v("audioCtx.createAnalyser()")]),o._v(": 创建 AnalyserNode对象，用于"),e("strong",[o._v("公开音频的时间和频率")])])])])]),o._v(" "),e("h3",{attrs:{id:"audiobuffer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#audiobuffer"}},[o._v("#")]),o._v(" AudioBuffer")]),o._v(" "),e("ul",[e("li",[o._v("内存中一段音频数据，可通过 "),e("strong",[o._v("Audio8Conext.decodeAudioData()从音频文件创建")]),o._v("或者 "),e("strong",[o._v("AudioContext.createBuffer()方法从原始数据创建")]),o._v("，音频数据编码为AudioBuffer格式才可被放入AudioBufferNode中使用")])]),o._v(" "),e("h3",{attrs:{id:"audiobuffernode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#audiobuffernode"}},[o._v("#")]),o._v(" AudioBufferNode")]),o._v(" "),e("ul",[e("li",[o._v("由内存音频数据组成的音频源，音频数据存储在AudioBuffer中(即 buffer属性)")]),o._v(" "),e("li",[o._v("创建 AudioBufferNode\n"),e("blockquote",[e("p",[e("code",[o._v("let audioBufferSourceNode = audioCtx.createBufferSource()")])])])]),o._v(" "),e("li",[o._v("AudioBufferNode常用属性\n"),e("ol",[e("li",[e("code",[o._v("audioBufferSourceNode.buffer")]),o._v("提供重复播放音频的能力，该音频使用AudioBuffer作为声音文件的来源。若 buffer为null,节点自动生成一个单声道无声文件(即所有采样点为 0)。")])]),o._v(" "),e("blockquote",[e("p",[o._v("子属性 duration音频资源的时长(秒)")])]),o._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[o._v("audioBufferSourceNode.loop")]),o._v(" 是否循环播放，默认false")])])]),o._v(" "),e("li",[o._v("AudioBufferNode常用方法\n"),e("ol",[e("li",[o._v("start/noteOn(when, offset, duration): 开始播放音频")])]),o._v(" "),e("blockquote",[e("p",[o._v("when参数：何时开始播放；offset参数：从音频第几帧开始；duration参数：播放几秒")])]),o._v(" "),e("ol",[e("li",[o._v("stop/noteOn(when): 结束播放音频")])]),o._v(" "),e("blockquote",[e("p",[o._v("when参数：何时停止播放")])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);